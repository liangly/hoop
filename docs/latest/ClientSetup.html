<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Jul 20, 2011 -->
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <title>Hoop - Hoop, Hadoop HDFS over HTTP 0.1.0-SNAPSHOT - Client Setup</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
        <meta name="author" content="Alejandro Abdelnur" />
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      </head>
  <body class="composite">
    <div id="banner">
                  <span id="bannerLeft">
                Â 
                </span>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                                <div class="xleft">
        Last Published: 2011-07-20
                      </div>
            <div class="xright">            <a href="../index.html">OTHER RELEASES</a>
            |
                <a href="http://www.cloudera.com/" class="externalLink">Cloudera</a>
              
                                 Version: 0.1.0-SNAPSHOT
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                                                          <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
          <img alt="Built by Maven" src="./images/logos/maven-feather.png"/>
        </a>
                       
                            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>Hoop, Hadoop HDFS over HTTP 0.1.0-SNAPSHOT - Client Setup</h2>
<p>[ <a href="index.html">Go Back</a> ]</p>
<div class="section"><h3>Client Configuration</h3>
<p>Add Hoop Client JARs to the CLASSPATH.</p>
<p>The Hoop Client JARs are available in the Hoop distro <b>client-lib</b>&gt; directory.</p>
<p>They are also available in Cloudera's Maven repository:</p>
<ul><li>Repo URL: <tt>https://repository.cloudera.com/content/repositories/releases</tt></li>
<li>Group Id: com.cloudera.hoop</li>
<li>Artifact Id: hoop-client</li>
<li>Version: 0.1.0-SNAPSHOT</li>
<li>Type: jar<div class="source"><pre>  ...
  &lt;dependency&gt;
      &lt;groupId&gt;com.cloudera.hoop&lt;/groupId&gt;
      &lt;artifactId&gt;hoop-client&lt;/artifactId&gt;
      &lt;version&gt;0.1.0-SNAPSHOT&lt;/version&gt;
  &lt;/dependency&gt;
  ...</pre>
</div>
</li>
</ul>
<p>Create a File System object that connects to the Hoop Server:</p>
<div class="source"><pre>  ...
  Configuration conf = new Configuration();
  conf.set(&quot;fs.http.impl&quot;, HoopFileSystem.class.getName());
  FileSystem fs = FileSystem.get(new URI(&quot;http://myhoophost:14000&quot;), conf);
  ...</pre>
</div>
<p>The returned <tt>FileSystem</tt> object connects to the Hoop server.</p>
<p>All file system operations are supported.</p>
</div>
<div class="section"><h3>Using Hadoop <tt>hadoop</tt> to access HDFS via Hoop</h3>
<p>Set the <tt>HADOOP_CLASSPATH</tt> environment variable with all the JARs from Hoop's <tt>/client-lib</tt> directory. For example:</p>
<div class="source"><pre>$ cd &lt;HOOP_HOME&gt;
$ export HADOOP_CLASSPATH=&quot;`pwd`/client-lib/alfredo-0.1.5.jar:`pwd`/client-lib/hoop-client-0.1.0-SNAPSHOT.jar:`pwd`/client-lib/json-simple-1.1.jar&quot;</pre>
</div>
<p>NOTE: The <tt>commons-codec</tt> JAR file is part of Hadoop's CLASSPATH, thus no need to include it.</p>
<p>Invoke <tt>hadoop fs</tt> setting the Namenode URI and registering Hoop's file system implementation. For example:</p>
<div class="source"><pre>$ hadoop fs -Dfs.default.name=http://&lt;HOOP_HOSTNAME&gt;:14000 -Dfs.http.impl=com.cloudera.hoop.client.fs.HoopFileSystem -lsr
-rw-rw-rw-   1 babu staff             966 1969-12-31 16:00 /user/babu/foofoo.txt
drwxr-xr-x   - babu supergroup          0 2011-07-14 12:43 /user/babu/x</pre>
</div>
<p>NOTE: For a more permanent setup, add the 2 properties to your local <tt>hdfs-site.xml</tt>.</p>
<p>[ <a href="index.html">Go Back</a> ]</p>
</div>
</div>

      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">&#169;            2011
              Cloudera
            
                       - <a href="http://maven.apache.org/privacy-policy.html">Privacy Policy</a></div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
